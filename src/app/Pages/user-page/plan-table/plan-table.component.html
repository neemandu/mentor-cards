<table mat-table [dataSource]="dataSource">

  <!-- plan Column -->
  <ng-container matColumnDef="planName">
    <th mat-header-cell *matHeaderCellDef> תכנית </th>
    <td mat-cell *matCellDef="let element"> {{element.planName}} </td>
  </ng-container>

  <!-- startDate Column -->
  <ng-container matColumnDef="startDate">
    <th mat-header-cell *matHeaderCellDef> תאריך התחלה </th>
    <td mat-cell *matCellDef="let element"> {{element.startDate | date: 'dd/MM/yyyy'}} </td>
  </ng-container>

  <!-- updateDate Column -->
  <ng-container matColumnDef="updateDate">
    <th mat-header-cell *matHeaderCellDef> תאריך עדכון </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="element.cancellationDate">
        {{element.cancellationDate | date: 'dd/MM/yyyy'}}
      </div>
      <div *ngIf="!element.cancellationDate">
      </div>
    </td>
  </ng-container>

  <!-- nextBillingDate Column -->
  <ng-container matColumnDef="nextBillingDate">
    <th mat-header-cell *matHeaderCellDef> תאריך תשלום הבא </th>
    <td mat-cell *matCellDef="let element">
      <div *ngIf="element.nextBillingDate">
        {{element.nextBillingDate | date: 'dd/MM/yyyy'}}
      </div>
      <div *ngIf="!element.nextBillingDate">
      </div>
    </td>
  </ng-container>

  <!-- monthlyYearly Column -->
  <ng-container matColumnDef="yearlyMonthly">
    <th mat-header-cell *matHeaderCellDef> מחזור חיוב </th>
    <td mat-cell *matCellDef="let element"> {{element.yearlyMonthly === 0 ? 'חודשי' : 'שנתי'}} </td>
  </ng-container>

  <!-- price Column -->
  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> מחיר </th>
    <td mat-cell *matCellDef="let element"> {{element.price}} ש"ח </td>
  </ng-container>

  <!-- cancel Column -->
  <ng-container matColumnDef="cancel">
    <th mat-header-cell *matHeaderCellDef> פעולות </th>
    <td mat-cell *matCellDef="let element; let i = index;">
      <a href="javascript:;" *ngIf="!element.cancellationDate" (click)="openCancelDialogModal(element, i)">לביטול החיוב
        האוטומטי</a>
      <a href="javascript:;" *ngIf="element.cancellationDate && !element.homePlan" (click)="openApprovePurchaseDialog(element, i)">לחידוש תוכנית ערכת VIP</a>
      <a href="javascript:;" *ngIf="element.cancellationDate && element.homePlan" (click)="openApprovePurchaseDialog(element, i)">לחידוש תכנית הבית</a>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
