<button class="iconButton" mat-icon-button (click)="closeDialog()">
  <mat-icon>highlight_off</mat-icon>
</button>
<div class="d-flex flex-column">
  <p class="main-header">{{data.description}}</p>
  <div class="d-flex justify-content-around categories-tags">
    <div class="d-flex flex-column justify-content-center">
      <p class="sub-header">קטגוריות</p>
      <p class="content">{{data.categories}}</p>
    </div>
    <div class="d-flex flex-column justify-content-center">
      <p class="sub-header">תגיות</p>
      <p class="content">{{data.tags}}</p>
    </div>
  </div>
  <div id="example-cards" style="display: contents;">
    <p class="sub-header">קלפים לדוגמא</p>
    <div class="d-flex flex-row card-previews">
      <app-card *ngFor="let card of data.cardsPreview" [cardContent]="{'imgUrl':card}" [flipped]="true"
        (loaded)="loadedCards = loadedCards + 1"
        [ngClass]="{'item-hidden': true, 'item-reveal': loadedCards == data.cardsPreview.length}">
      </app-card>
    </div>
  </div>
  <div id="actions" class="d-flex flex-row">
    <button class="action-button" type="button" (click)="choosePack()" [disabled]="!choosePackButtonVisible">בחר ערכה
      זו
      <span style="font-size: small;" *ngIf="!choosePackButtonVisible"><br>
        נוצלו כל החבילות החודש
      </span></button>
    <button class="action-button" type="button" [matMenuTriggerFor]="exchangeMenu"
      [disabled]="!exchangePackButtonVisible">החלף ערכה בזו
      <span style="font-size: small;" *ngIf="!exchangePackButtonVisible"><br>
        הוחלפה חבילה החודש
      </span></button>
    <button class="action-button" type="button" (click)="openChooseProgramModal()"
      [disabled]="!upgradePackButtonVisible">שדרג
      תכנית
      <span style="font-size: small;" *ngIf="!upgradePackButtonVisible"><br>
        הוחלפה תכנית החודש
      </span></button>
  </div>
</div>

<mat-menu #exchangeMenu="matMenu" xPosition="before" dir="rtl">
  <button mat-menu-item *ngFor="let pack of currentPacksOwned" style="height: 100%;"
    matTooltip="קטגוריות: {{pack.categories | tooltipListView}} | תגיות: {{pack.tags | tooltipListView}}"
    matTooltipShowDelay="1000" [matTooltipClass]="{'tooltip-class' : true}"
    (click)="openExchangePackApprovalModal(pack)">
    <img src={{pack.imgUrl}} style="height: 4rem; margin: 5px 0px 5px 5px;">
    {{pack.description}}
  </button>
</mat-menu>