"use strict";
(self["webpackChunkmentor_cards"] = self["webpackChunkmentor_cards"] || []).push([["node_modules_aws-amplify_ui-components_dist_esm_amplify-confirm-sign-in_7_entry_js"],{

/***/ 52030:
/*!*********************************************************************************************!*\
  !*** ./node_modules/@aws-amplify/ui-components/dist/esm/amplify-confirm-sign-in_7.entry.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "amplify_confirm_sign_in": () => (/* binding */ AmplifyConfirmSignIn),
/* harmony export */   "amplify_confirm_sign_up": () => (/* binding */ AmplifyConfirmSignUp),
/* harmony export */   "amplify_forgot_password": () => (/* binding */ AmplifyForgotPassword),
/* harmony export */   "amplify_require_new_password": () => (/* binding */ AmplifyRequireNewPassword),
/* harmony export */   "amplify_sign_in": () => (/* binding */ AmplifySignIn),
/* harmony export */   "amplify_sign_up": () => (/* binding */ AmplifySignUp),
/* harmony export */   "amplify_verify_contact": () => (/* binding */ AmplifyVerifyContact)
/* harmony export */ });
/* harmony import */ var C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ 19369);
/* harmony import */ var _index_39969785_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-39969785.js */ 23622);
/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @aws-amplify/core */ 35216);
/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @aws-amplify/core */ 75582);
/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @aws-amplify/core */ 56722);
/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth-types-78df304e.js */ 94247);
/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @aws-amplify/auth */ 22108);
/* harmony import */ var _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Translations-3f32c42a.js */ 58477);
/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants-d1abe7de.js */ 14481);
/* harmony import */ var _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-9a4b32d1.js */ 1579);
/* harmony import */ var _auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth-helpers-d97ec2fb.js */ 53931);









const AmplifyConfirmSignIn = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** Fires when confirm sign in form is submitted */

    this.handleSubmit = event => this.confirm(event);
    /** Used for header text in confirm sign in component */


    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SMS_CODE;
    /** Used for the submit button text in confirm sign in component */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM;
    /** Auth state change handler for this component */

    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /**
     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.
     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing
     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.
     * ```
     * [
     *  {
     *    type: string,
     *    label: string,
     *    placeholder: string,
     *    hint: string | Functional Component | null,
     *    required: boolean
     *  }
     * ]
     * ```
     */

    this.formFields = [{
      type: 'code',
      required: true,
      handleInputChange: event => this.handleCodeChange(event)
    }];
    /** The MFA option to confirm with */

    this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.M.SMS;
    /* Whether or not the confirm-sign-in component is loading */

    this.loading = false;
  }

  componentWillLoad() {
    if (this.user && this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.C.SoftwareTokenMFA) {
      this.mfaOption = _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.M.TOTP; // If header text is using default use TOTP string

      if (this.headerText === _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SMS_CODE) {
        this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_TOTP_CODE;
      }
    }
  }

  handleCodeChange(event) {
    this.code = event.target.value;
  }

  confirm(event) {
    var _this = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      const mfaType = _this.user['challengeName'] === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.C.SoftwareTokenMFA ? _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.C.SoftwareTokenMFA : null;

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.confirmSignIn !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this.loading = true;

      try {
        yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.confirmSignIn(_this.user, _this.code, mfaType);
        yield (0,_auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__.c)(_this.user, _this.handleAuthStateChange);
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this.loading = false;
      }
    })();
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      handleSubmit: this.handleSubmit,
      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.submitButtonText),
      loading: this.loading,
      secondaryFooterContent: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn)
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.BACK_TO_SIGN_IN)))
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.formFields
    })));
  }

};
const AmplifyConfirmSignUp = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** Fires when sign up form is submitted */

    this.handleSubmit = event => this.confirmSignUp(event);
    /** Used for header text in confirm sign up component */


    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_HEADER_TEXT;
    /** Used for the submit button text in confirm sign up component */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_SUBMIT_BUTTON_TEXT;
    /**
     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.
     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing
     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.
     * ```
     * [
     *  {
     *    type: string,
     *    label: string,
     *    placeholder: string,
     *    hint: string | Functional Component | null,
     *    required: boolean
     *  }
     * ]
     * ```
     */

    this.formFields = [];
    /** Auth state change handler for this components
     * e.g. SignIn -> 'Create Account' link -> SignUp
     */

    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */

    this.usernameAlias = 'username';
    this.loading = false;
    this.userInput = this.user ? this.user.username : null;
    this._signUpAttrs = this.user && this.user.signUpAttrs ? this.user.signUpAttrs : null;
    this.newFormFields = [];
    this.phoneNumber = {
      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.h,
      phoneNumberValue: null
    };
  }

  componentWillLoad() {
    (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.usernameAlias);
    this.buildFormFields();
  }

  formFieldsHandler() {
    this.buildFormFields();
  }

  buildDefaultFormFields() {
    this.newFormFields = [{
      type: `${this.usernameAlias}`,
      required: true,
      handleInputChange: this.handleFormFieldInputChange(`${this.usernameAlias}`),
      value: this.userInput,
      disabled: this.userInput ? true : false
    }, {
      type: 'code',
      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_CODE_LABEL),
      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_CODE_PLACEHOLDER),
      required: true,
      hint: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_LOST_CODE), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.resendConfirmCode()
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_RESEND_CODE))),
      handleInputChange: this.handleFormFieldInputChange('code')
    }];
  }

  buildFormFields() {
    if (this.formFields.length === 0) {
      this.buildDefaultFormFields();
    } else {
      const newFields = [];
      this.formFields.forEach(field => {
        const newField = Object.assign({}, field);

        if (newField.type === 'code') {
          newField['hint'] = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.i)(newField) ? (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_LOST_CODE), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
            variant: "anchor",
            onClick: () => this.resendConfirmCode()
          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_RESEND_CODE))) : newField['hint'];
        }

        newField['handleInputChange'] = event => this.handleFormFieldInputWithCallback(event, field);

        newFields.push(newField);
      });
      this.newFormFields = newFields;
    }
  }

  handleFormFieldInputChange(fieldType) {
    switch (fieldType) {
      case 'username':
      case 'email':
        return event => this.userInput = event.target.value;

      case 'phone_number':
        return event => (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.h)(event, this.phoneNumber);

      case 'code':
        return event => this.code = event.target.value;

      default:
        return;
    }
  }

  setFieldValue(field) {
    switch (field.type) {
      case 'username':
      case 'email':
        if (field.value === undefined) {
          this.userInput = '';
        } else {
          this.userInput = field.value;
        }

        break;

      case 'phone_number':
        if (field.dialCode) {
          this.phoneNumber.countryDialCodeValue = field.dialCode;
        }

        this.phoneNumber.phoneNumberValue = field.value;
        break;
    }
  }

  handleFormFieldInputWithCallback(event, field) {
    const fnToCall = field['handleInputChange'] ? field['handleInputChange'] : (event, cb) => {
      cb(event);
    };
    const callback = this.handleFormFieldInputChange(field.type);
    fnToCall(event, callback.bind(this));
  }

  resendConfirmCode() {
    var _this2 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.resendSignUp !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      try {
        if (!_this2.userInput) throw new Error(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.EMPTY_USERNAME);
        _this2.userInput = _this2.userInput.trim();
        yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.resendSignUp(_this2.userInput);

        _this2.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.ConfirmSignUp);
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      }
    })();
  } // TODO: Add validation
  // TODO: Prefix


  confirmSignUp(event) {
    var _this3 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.confirmSignUp !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this3.loading = true;

      switch (_this3.usernameAlias) {
        case 'phone_number':
          try {
            _this3.userInput = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.b)(_this3.phoneNumber);
          } catch (error) {
            (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
          }

      }

      try {
        if (!_this3.userInput) throw new Error(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.EMPTY_USERNAME);
        _this3.userInput = _this3.userInput.trim();
        const confirmSignUpResult = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.confirmSignUp(_this3.userInput, _this3.code);

        if (!confirmSignUpResult) {
          throw new Error(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CONFIRM_SIGN_UP_FAILED));
        }

        if (_this3._signUpAttrs && _this3._signUpAttrs.password && _this3._signUpAttrs.password !== '') {
          // Auto sign in user if password is available from previous workflow
          yield (0,_auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__.h)(_this3.userInput, _this3._signUpAttrs.password, _this3.handleAuthStateChange);
        } else {
          _this3.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn);
        }
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this3.loading = false;
      }
    })();
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.submitButtonText),
      handleSubmit: this.handleSubmit,
      loading: this.loading,
      secondaryFooterContent: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn)
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.BACK_TO_SIGN_IN))))
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.newFormFields
    })));
  }

  static get watchers() {
    return {
      "formFields": ["formFieldsHandler"]
    };
  }

};
const logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_9__.ConsoleLogger('ForgotPassword');
const AmplifyForgotPassword = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** The header text of the forgot password section */

    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.RESET_YOUR_PASSWORD;
    /** The text displayed inside of the send code button for the form */

    this.sendButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SEND_CODE;
    /** The text displayed inside of the submit button for the form */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SUBMIT;
    /** The form fields displayed inside of the forgot password form */

    this.formFields = [];
    /** The function called when making a request to reset password */

    this.handleSend = event => this.send(event);
    /** The function called when submitting a new password */


    this.handleSubmit = event => this.submit(event);
    /** Auth state change handler for this component */


    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */

    this.usernameAlias = 'username';
    this.delivery = null;
    this.loading = false;
    this.phoneNumber = {
      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.h,
      phoneNumberValue: null
    };
    this.newFormFields = [];
    this.forgotPasswordAttrs = {
      userInput: '',
      password: '',
      code: ''
    };
  }

  componentWillLoad() {
    (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.usernameAlias);
    this.buildFormFields();
  }

  formFieldsHandler() {
    this.buildFormFields();
  }

  buildFormFields() {
    if (this.formFields.length === 0) {
      this.buildDefaultFormFields();
    } else {
      this.formFields.forEach(field => {
        const newField = Object.assign({}, field);

        newField['handleInputChange'] = event => this.handleFormFieldInputWithCallback(event, field);

        this.newFormFields.push(newField);
      });
    }
  }

  buildDefaultFormFields() {
    switch (this.usernameAlias) {
      case 'email':
        this.newFormFields = [{
          type: 'email',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('email'),
          inputProps: {
            'data-test': 'forgot-password-email-input'
          }
        }];
        break;

      case 'phone_number':
        this.newFormFields = [{
          type: 'phone_number',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('phone_number'),
          inputProps: {
            'data-test': 'forgot-password-phone-number-input'
          }
        }];
        break;

      case 'username':
      default:
        this.newFormFields = [{
          type: 'username',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('username'),
          inputProps: {
            'data-test': 'forgot-password-username-input'
          }
        }];
        break;
    }
  }

  handleFormFieldInputChange(fieldType) {
    switch (fieldType) {
      case 'username':
      case 'email':
        return event => this.forgotPasswordAttrs.userInput = event.target.value;

      case 'phone_number':
        return event => (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.h)(event, this.phoneNumber);

      case 'password':
      case 'code':
        return event => this.forgotPasswordAttrs[fieldType] = event.target.value;

      default:
        return;
    }
  }

  setFieldValue(field, formAttributes) {
    switch (field.type) {
      case 'username':
      case 'email':
        if (field.value === undefined) {
          formAttributes.userInput = '';
        } else {
          formAttributes.userInput = field.value;
        }

        break;

      case 'phone_number':
        if (field.dialCode) {
          this.phoneNumber.countryDialCodeValue = field.dialCode;
        }

        this.phoneNumber.phoneNumberValue = field.value;
        break;

      case 'password':
      case 'code':
        if (field.value === undefined) {
          formAttributes[field.type] = '';
        } else {
          formAttributes[field.type] = field.value;
        }

        break;
    }
  }

  handleFormFieldInputWithCallback(event, field) {
    const fnToCall = field['handleInputChange'] ? field['handleInputChange'] : (event, cb) => {
      cb(event);
    };
    const callback = this.handleFormFieldInputChange(field.type);
    fnToCall(event, callback.bind(this));
  }

  send(event) {
    var _this4 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.forgotPassword !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this4.loading = true;

      switch (_this4.usernameAlias) {
        case 'phone_number':
          try {
            _this4.forgotPasswordAttrs.userInput = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.b)(_this4.phoneNumber);
          } catch (error) {
            (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
          }

          break;
      }

      try {
        const data = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.forgotPassword(_this4.forgotPasswordAttrs.userInput.trim());
        logger.debug(data);
        _this4.newFormFields = [{
          type: 'code',
          required: true,
          handleInputChange: _this4.handleFormFieldInputChange('code'),
          inputProps: {
            'data-test': 'forgot-password-code-input'
          }
        }, {
          type: 'password',
          required: true,
          handleInputChange: _this4.handleFormFieldInputChange('password'),
          label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.NEW_PASSWORD_LABEL),
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.NEW_PASSWORD_PLACEHOLDER)
        }];
        _this4.delivery = data.CodeDeliveryDetails;
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this4.loading = false;
      }
    })();
  }

  submit(event) {
    var _this5 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.forgotPasswordSubmit !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this5.loading = true;

      try {
        const {
          userInput,
          code,
          password
        } = _this5.forgotPasswordAttrs;
        const data = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.forgotPasswordSubmit(userInput, code, password);
        logger.debug(data);

        _this5.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn);

        _this5.delivery = null;
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this5.loading = false;
      }
    })();
  }

  render() {
    const submitFn = this.delivery ? event => this.handleSubmit(event) : event => this.handleSend(event);
    const submitButtonText = this.delivery ? this.submitButtonText : this.sendButtonText;
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      handleSubmit: submitFn,
      loading: this.loading,
      secondaryFooterContent: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn),
        "data-test": "forgot-password-back-to-sign-in-link"
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.BACK_TO_SIGN_IN)),
      testDataPrefix: 'forgot-password',
      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(submitButtonText)
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.newFormFields
    })));
  }

  static get watchers() {
    return {
      "formFields": ["formFieldsHandler"]
    };
  }

};
const logger$1 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_9__.ConsoleLogger('amplify-require-new-password');
const AmplifyRequireNewPassword = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** The header text of the forgot password section */

    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CHANGE_PASSWORD;
    /** The text displayed inside of the submit button for the form */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CHANGE_PASSWORD_ACTION;
    /** The function called when submitting a new password */

    this.handleSubmit = event => this.completeNewPassword(event);
    /** Auth state change handler for this component */


    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /** The form fields displayed inside of the forgot password form */

    this.formFields = [{
      type: _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.a.Password,
      required: true,
      handleInputChange: event => this.handlePasswordChange(event),
      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.NEW_PASSWORD_LABEL),
      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.NEW_PASSWORD_PLACEHOLDER),
      inputProps: {
        'data-test': 'require-new-password-password-input'
      }
    }];
    this.loading = false;
    this.requiredAttributes = {};
    this.newFormFields = this.formFields;
  }

  watchHandler() {
    this.setCurrentUser();
  }

  handleRequiredAttributeInputChange(attribute, event) {
    this.requiredAttributes[attribute] = event.target.value;
  }

  setCurrentUser() {
    var _this6 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (!_this6.user) {
        // Check for authenticated user
        try {
          const user = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.currentAuthenticatedUser();
          if (user) _this6.currentUser = user;
        } catch (error) {
          (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
        }
      } else {
        _this6.currentUser = _this6.user;
      }

      if (_this6.currentUser && _this6.currentUser.challengeParam && _this6.currentUser.challengeParam.requiredAttributes) {
        const userRequiredAttributes = _this6.currentUser.challengeParam.requiredAttributes;
        userRequiredAttributes.forEach(attribute => {
          const formField = {
            type: attribute,
            required: true,
            label: _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.r[attribute].label,
            placeholder: _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.r[attribute].placeholder,
            handleInputChange: event => _this6.handleRequiredAttributeInputChange(attribute, event),
            inputProps: {
              'data-test': `require-new-password-${attribute}-input`
            }
          };
          _this6.newFormFields = [..._this6.newFormFields, formField];
        });
      }
    })();
  }

  componentWillLoad() {
    return this.setCurrentUser();
  }

  handlePasswordChange(event) {
    this.password = event.target.value;
  }

  completeNewPassword(event) {
    var _this7 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.completeNewPassword !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this7.loading = true;

      try {
        const user = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.completeNewPassword(_this7.currentUser, _this7.password, _this7.requiredAttributes);
        logger$1.debug('complete new password', user);

        switch (user.challengeName) {
          case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.C.SMSMFA:
            _this7.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.ConfirmSignIn, user);

            break;

          case _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.C.MFASetup:
            logger$1.debug('TOTP setup', user.challengeParam);

            _this7.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.TOTPSetup, user);

            break;

          default:
            yield (0,_auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__.c)(user, _this7.handleAuthStateChange);
        }
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this7.loading = false;
      }
    })();
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      handleSubmit: this.handleSubmit,
      loading: this.loading,
      secondaryFooterContent: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn)
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.BACK_TO_SIGN_IN)),
      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.submitButtonText)
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.newFormFields
    })));
  }

  static get watchers() {
    return {
      "user": ["watchHandler"]
    };
  }

};
const amplifySignInCss = ":host{--footer-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--footer-font-family:var(--amplify-font-family);--font-weight:var(--amplify-font-weight)}.sign-in-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-in-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-in-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-in-form-footer amplify-button{margin-bottom:0}}.sign-in-form-footer *+*{margin-bottom:15px}";
const AmplifySignIn = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** Fires when sign in form is submitted */

    this.handleSubmit = event => this.signIn(event);
    /** Used for header text in sign in component */


    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_IN_HEADER_TEXT;
    /** Used for the submit button text in sign in component */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_IN_ACTION;
    /** Auth state change handler for this component */

    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */

    this.usernameAlias = 'username';
    /**
     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.
     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing
     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.
     * ```
     * [
     *  {
     *    type: string,
     *    label: string,
     *    placeholder: string,
     *    hint: string | Functional Component | null,
     *    required: boolean
     *  }
     * ]
     * ```
     */

    this.formFields = [];
    /** Hides the sign up link */

    this.hideSignUp = false;
    this.newFormFields = [];
    /* Whether or not the sign-in component is loading */

    this.loading = false;
    this.phoneNumber = {
      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.h,
      phoneNumberValue: null
    };
    this.signInAttributes = {
      userInput: '',
      password: ''
    };
  }

  componentWillLoad() {
    (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.usernameAlias);
    this.buildFormFields();
  }

  formFieldsHandler() {
    this.buildFormFields();
  }

  handleFormFieldInputChange(fieldType) {
    switch (fieldType) {
      case 'username':
      case 'email':
        return event => this.signInAttributes.userInput = event.target.value;

      case 'phone_number':
        return event => (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.h)(event, this.phoneNumber);

      case 'password':
        return event => this.signInAttributes.password = event.target.value;
    }
  }

  handleFormFieldInputWithCallback(event, field) {
    const fnToCall = field['handleInputChange'] ? field['handleInputChange'] : (event, cb) => {
      cb(event);
    };
    const callback = this.handleFormFieldInputChange(field.type);
    fnToCall(event, callback.bind(this));
  }

  signIn(event) {
    var _this8 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      // avoid submitting the form
      if (event) {
        event.preventDefault();
      }

      _this8.loading = true;

      switch (_this8.usernameAlias) {
        case 'phone_number':
          try {
            _this8.signInAttributes.userInput = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.b)(_this8.phoneNumber);
          } catch (error) {
            (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
          }

      }

      const username = _this8.signInAttributes.userInput.trim();

      yield (0,_auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__.h)(username, _this8.signInAttributes.password, _this8.handleAuthStateChange);
      _this8.loading = false;
    })();
  }

  buildDefaultFormFields() {
    const formFieldInputs = [];

    switch (this.usernameAlias) {
      case 'email':
        formFieldInputs.push({
          type: 'email',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('email'),
          inputProps: {
            'data-test': 'sign-in-email-input'
          }
        });
        break;

      case 'phone_number':
        formFieldInputs.push({
          type: 'phone_number',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('phone_number'),
          inputProps: {
            'data-test': 'sign-in-phone-number-input'
          }
        });
        break;

      case 'username':
      default:
        formFieldInputs.push({
          type: 'username',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('username'),
          inputProps: {
            'data-test': 'sign-in-username-input'
          }
        });
        break;
    }

    formFieldInputs.push({
      type: 'password',
      hint: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.FORGOT_PASSWORD_TEXT), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.ForgotPassword),
        "data-test": "sign-in-forgot-password-link"
      }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.RESET_PASSWORD_TEXT))),
      required: true,
      handleInputChange: this.handleFormFieldInputChange('password'),
      inputProps: {
        'data-test': 'sign-in-password-input'
      }
    });
    this.newFormFields = [...formFieldInputs];
  }

  buildFormFields() {
    if (this.formFields.length === 0) {
      this.buildDefaultFormFields();
    } else {
      const newFields = [];
      this.formFields.forEach(field => {
        const newField = Object.assign({}, field); // TODO: handle hint better

        if (newField.type === 'password') {
          newField['hint'] = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.i)(newField) ? (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.FORGOT_PASSWORD_TEXT), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
            variant: "anchor",
            onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.ForgotPassword),
            "data-test": "sign-in-forgot-password-link"
          }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.RESET_PASSWORD_TEXT))) : newField['hint'];
        }

        newField['handleInputChange'] = event => this.handleFormFieldInputWithCallback(event, field);

        this.setFieldValue(newField, this.signInAttributes);
        newFields.push(newField);
      });
      this.newFormFields = newFields;
    }
  }

  setFieldValue(field, formAttributes) {
    switch (field.type) {
      case 'username':
      case 'email':
        if (field.value === undefined) {
          formAttributes.userInput = '';
        } else {
          formAttributes.userInput = field.value;
        }

        break;

      case 'phone_number':
        if (field.dialCode) {
          this.phoneNumber.countryDialCodeValue = field.dialCode;
        }

        this.phoneNumber.phoneNumberValue = field.value;
        break;

      case 'password':
        if (field.value === undefined) {
          formAttributes.password = '';
        } else {
          formAttributes.password = field.value;
        }

        break;
    }
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      handleSubmit: this.handleSubmit,
      testDataPrefix: 'sign-in'
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      slot: "subtitle"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "header-subtitle"
    })), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "federated-buttons"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-federated-buttons", {
      handleAuthStateChange: this.handleAuthStateChange,
      federated: this.federated
    })), !(0,_aws_amplify_core__WEBPACK_IMPORTED_MODULE_10__.isEmpty)(this.federated) && (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-strike", null, "or"), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.newFormFields
    }), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      slot: "amplify-form-section-footer",
      class: "sign-in-form-footer"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "footer"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "secondary-footer-content"
    }, !this.hideSignUp ? (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.NO_ACCOUNT_TEXT), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
      variant: "anchor",
      onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignUp),
      "data-test": "sign-in-create-account-link"
    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CREATE_ACCOUNT_TEXT))) : (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null)), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "primary-footer-content"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
      type: "submit",
      disabled: this.loading,
      "data-test": "sign-in-sign-in-button"
    }, this.loading ? (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-loading-spinner", null) : (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.submitButtonText))))))));
  }

  static get watchers() {
    return {
      "formFields": ["formFieldsHandler"]
    };
  }

};
AmplifySignIn.style = amplifySignInCss;
const amplifySignUpCss = ":host{--footer-font-family:var(--amplify-font-family);--footer-font-size:var(--amplify-text-sm);--footer-color:var(--amplify-grey);--font-weight:var(--amplify-font-weight)}.sign-up-form-footer{font-family:var(--footer-font-family);font-size:var(--footer-font-size);color:var(--footer-color);font-weight:--font-weight;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.sign-up-form-footer amplify-button{margin-bottom:0.625rem}@media (min-width: 672px){.sign-up-form-footer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:baseline;align-items:baseline}.sign-up-form-footer amplify-button{margin-bottom:0}}.sign-up-form-footer *+*{margin-bottom:15px}";
const AmplifySignUp = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** Fires when sign up form is submitted */

    this.handleSubmit = event => this.signUp(event);
    /** Used for header text in sign up component */


    this.headerText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_HEADER_TEXT;
    /** Used for the submit button text in sign up component */

    this.submitButtonText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_SUBMIT_BUTTON_TEXT;
    /** Used for the submit button text in sign up component */

    this.haveAccountText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_HAVE_ACCOUNT_TEXT;
    /** Text used for the sign in hyperlink */

    this.signInText = _Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_IN_TEXT;
    /**
     * Form fields allows you to utilize our pre-built components such as username field, code field, password field, email field, etc.
     * by passing an array of strings that you would like the order of the form to be in. If you need more customization, such as changing
     * text for a label or adjust a placeholder, you can follow the structure below in order to do just that.
     * ```
     * [
     *  {
     *    type: string,
     *    label: string,
     *    placeholder: string,
     *    hint: string | Functional Component | null,
     *    required: boolean
     *  }
     * ]
     * ```
     */

    this.formFields = [];
    /** Auth state change handler for this component
     * e.g. SignIn -> 'Create Account' link -> SignUp
     */

    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    /** Username Alias is used to setup authentication with `username`, `email` or `phone_number`  */

    this.usernameAlias = 'username'; // private userInput: string | PhoneNumberInterface;

    this.newFormFields = [];
    this.phoneNumber = {
      countryDialCodeValue: _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.h,
      phoneNumberValue: null
    };
    this.loading = false;
    this.signUpAttributes = {
      username: '',
      password: '',
      attributes: {}
    };
  }

  handleFormFieldInputChange(fieldType) {
    switch (fieldType) {
      case 'username':
        return event => this.signUpAttributes.username = event.target.value;

      case 'password':
        return event => this.signUpAttributes.password = event.target.value;

      case 'email':
        return event => this.signUpAttributes.attributes.email = event.target.value;

      case 'phone_number':
        return event => (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.h)(event, this.phoneNumber);

      default:
        return event => this.signUpAttributes.attributes[fieldType] = event.target.value;
    }
  }

  handleFormFieldInputWithCallback(event, field) {
    const fnToCall = field['handleInputChange'] ? field['handleInputChange'] : (event, cb) => {
      cb(event);
    };
    const callback = this.handleFormFieldInputChange(field.type);
    fnToCall(event, callback.bind(this));
  } // TODO: Add validation
  // TODO: Prefix


  signUp(event) {
    var _this9 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (event) {
        event.preventDefault();
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.signUp !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this9.loading = true;

      if (_this9.phoneNumber.phoneNumberValue) {
        try {
          _this9.signUpAttributes.attributes.phone_number = (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.b)(_this9.phoneNumber);
        } catch (error) {
          (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
        }
      }

      switch (_this9.usernameAlias) {
        case 'email':
        case 'phone_number':
          _this9.signUpAttributes.username = _this9.signUpAttributes.attributes[_this9.usernameAlias];
          break;
      }

      if (_this9.signUpAttributes.username.indexOf(' ') >= 0) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(new Error(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.USERNAME_REMOVE_WHITESPACE));
      }

      if (_this9.signUpAttributes.password !== _this9.signUpAttributes.password.trim()) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(new Error(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.PASSWORD_REMOVE_WHITESPACE));
      }

      try {
        const data = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.signUp(_this9.signUpAttributes);

        if (!data) {
          throw new Error(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_FAILED);
        }

        if (data.userConfirmed) {
          yield (0,_auth_helpers_d97ec2fb_js__WEBPACK_IMPORTED_MODULE_6__.h)(_this9.signUpAttributes.username, _this9.signUpAttributes.password, _this9.handleAuthStateChange);
        } else {
          const signUpAttrs = Object.assign({}, _this9.signUpAttributes);

          _this9.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.ConfirmSignUp, Object.assign(Object.assign({}, data.user), {
            signUpAttrs
          }));
        }
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
      } finally {
        _this9.loading = false;
      }
    })();
  }

  buildDefaultFormFields() {
    switch (this.usernameAlias) {
      case 'email':
        this.newFormFields = [{
          type: 'email',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_EMAIL_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('email'),
          inputProps: {
            'data-test': 'sign-up-email-input'
          }
        }, {
          type: 'password',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_PASSWORD_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('password'),
          inputProps: {
            'data-test': 'sign-up-password-input'
          }
        }, {
          type: 'phone_number',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('phone_number'),
          inputProps: {
            'data-test': 'sign-up-phone-number-input'
          }
        }];
        break;

      case 'phone_number':
        this.newFormFields = [{
          type: 'phone_number',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('phone_number'),
          inputProps: {
            'data-test': 'sign-up-phone-number-input'
          }
        }, {
          type: 'password',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_PASSWORD_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('password'),
          inputProps: {
            'data-test': 'sign-up-password-input'
          }
        }, {
          type: 'email',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_EMAIL_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('email'),
          inputProps: {
            'data-test': 'sign-up-email-input'
          }
        }];
        break;

      case 'username':
      default:
        this.newFormFields = [{
          type: 'username',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_USERNAME_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('username'),
          inputProps: {
            'data-test': 'sign-up-username-input'
          }
        }, {
          type: 'password',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_PASSWORD_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('password'),
          inputProps: {
            'data-test': 'sign-up-password-input'
          }
        }, {
          type: 'email',
          placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.SIGN_UP_EMAIL_PLACEHOLDER),
          required: true,
          handleInputChange: this.handleFormFieldInputChange('email'),
          inputProps: {
            'data-test': 'sign-up-email-input'
          }
        }, {
          type: 'phone_number',
          required: true,
          handleInputChange: this.handleFormFieldInputChange('phone_number'),
          inputProps: {
            'data-test': 'sign-up-phone-number-input'
          }
        }];
        break;
    }
  }

  buildFormFields() {
    if (this.formFields.length === 0) {
      this.buildDefaultFormFields();
    } else {
      const newFields = [];
      this.formFields.forEach(field => {
        const newField = Object.assign({}, field);

        newField['handleInputChange'] = event => this.handleFormFieldInputWithCallback(event, field);

        this.setFieldValue(field, this.signUpAttributes);
        newFields.push(newField);
      });
      this.newFormFields = newFields;
    }
  }

  setFieldValue(field, formAttributes) {
    switch (field.type) {
      case 'username':
        if (field.value === undefined) {
          formAttributes.username = '';
        } else {
          formAttributes.username = field.value;
        }

        break;

      case 'password':
        if (field.value === undefined) {
          formAttributes.password = '';
        } else {
          formAttributes.password = field.value;
        }

        break;

      case 'email':
        formAttributes.attributes.email = field.value;
        break;

      case 'phone_number':
        if (field.dialCode) {
          this.phoneNumber.countryDialCodeValue = field.dialCode;
        }

        this.phoneNumber.phoneNumberValue = field.value;
        break;

      default:
        formAttributes.attributes[field.type] = field.value;
        break;
    }
  }

  componentWillLoad() {
    (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.usernameAlias);
    this.buildFormFields();
  }

  formFieldsHandler() {
    this.buildFormFields();
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.headerText),
      handleSubmit: this.handleSubmit,
      testDataPrefix: 'sign-up'
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      slot: "subtitle"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "header-subtitle"
    })), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-auth-fields", {
      formFields: this.newFormFields
    }), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "sign-up-form-footer",
      slot: "amplify-form-section-footer"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "footer"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "secondary-footer-content"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.haveAccountText), ' ', (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
      variant: "anchor",
      onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignIn),
      "data-test": "sign-up-sign-in-link"
    }, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.signInText)))), (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "primary-footer-content"
    }, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
      type: "submit",
      "data-test": "sign-up-create-account-button"
    }, this.loading ? (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-loading-spinner", null) : (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(this.submitButtonText))))))));
  }

  static get watchers() {
    return {
      "formFields": ["formFieldsHandler"]
    };
  }

};
AmplifySignUp.style = amplifySignUpCss;
const logger$2 = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_9__.ConsoleLogger('AmplifyVerifyContact');
const AmplifyVerifyContact = class {
  constructor(hostRef) {
    (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    /** Authentication state handler */

    this.handleAuthStateChange = _helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.d;
    this.loading = false;
  }

  handleSubmit(event) {
    event.preventDefault();
    this.verifyAttr ? this.submit(this.code) : this.verify(this.contact);
  }

  submit(code) {
    var _this10 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      const attr = _this10.verifyAttr;

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.verifyCurrentUserAttributeSubmit !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this10.loading = true;

      try {
        const data = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.verifyCurrentUserAttributeSubmit(attr, code);
        logger$2.debug(data);

        _this10.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignedIn, _this10.user);

        _this10.verifyAttr = null;
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
        logger$2.error(error);
      } finally {
        _this10.loading = false;
      }
    })();
  }

  verify(contact) {
    var _this11 = this;

    return (0,C_Users_Sampath_Music_mentor_cards_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)(function* () {
      if (!contact) {
        logger$2.error('Neither Email nor Phone Number selected');
        return;
      }

      if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.verifyCurrentUserAttribute !== 'function') {
        throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_4__.N);
      }

      _this11.loading = true;

      try {
        const data = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_7__.Auth.verifyCurrentUserAttribute(contact);
        logger$2.debug(data);
        _this11.verifyAttr = contact;
      } catch (error) {
        (0,_helpers_9a4b32d1_js__WEBPACK_IMPORTED_MODULE_5__.a)(error);
        logger$2.error(error);
      } finally {
        _this11.loading = false;
      }
    })();
  }

  handleInputChange(event) {
    const inputName = event.target.name;

    if (inputName === 'code') {
      this.code = event.target.value;
    } else if (inputName === 'contact') {
      this.contact = event.target.value;
    }
  }

  renderSubmit() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-input", {
      inputProps: {
        autocomplete: 'off',
        'data-test': 'verify-contact-code-input'
      },
      name: "code",
      placeholder: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.CODE_PLACEHOLDER),
      handleInputChange: event => this.handleInputChange(event)
    }));
  }

  renderVerify() {
    const user = this.user;

    if (!user) {
      logger$2.debug('No user to verify');
      return null;
    }

    const {
      unverified
    } = user;

    if (!unverified) {
      logger$2.debug('Unverified variable does not exist on user');
      return null;
    }

    const {
      email,
      phone_number
    } = unverified;
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", null, email && (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-radio-button", {
      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.VERIFY_CONTACT_EMAIL_LABEL),
      key: "email",
      name: "contact",
      value: "email",
      handleInputChange: event => this.handleInputChange(event),
      inputProps: {
        'data-test': 'verify-contact-email-radio'
      }
    }), phone_number && (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-radio-button", {
      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.VERIFY_CONTACT_PHONE_LABEL),
      key: "phone_number",
      name: "contact",
      value: "phone_number",
      handleInputChange: event => this.handleInputChange(event),
      inputProps: {
        'data-test': 'verify-contact-email-radio'
      }
    }));
  }

  render() {
    return (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.H, null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-form-section", {
      handleSubmit: event => this.handleSubmit(event),
      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.VERIFY_CONTACT_HEADER_TEXT),
      loading: this.loading,
      secondaryFooterContent: (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("span", null, (0,_index_39969785_js__WEBPACK_IMPORTED_MODULE_1__.h)("amplify-button", {
        variant: "anchor",
        onClick: () => this.handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__.A.SignedIn, this.user)
      }, "Skip")),
      submitButtonText: this.verifyAttr ? _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.VERIFY_CONTACT_SUBMIT_LABEL) : _aws_amplify_core__WEBPACK_IMPORTED_MODULE_8__.I18n.get(_Translations_3f32c42a_js__WEBPACK_IMPORTED_MODULE_3__.T.VERIFY_CONTACT_VERIFY_LABEL)
    }, this.verifyAttr ? this.renderSubmit() : this.renderVerify()));
  }

};


/***/ })

}]);
//# sourceMappingURL=node_modules_aws-amplify_ui-components_dist_esm_amplify-confirm-sign-in_7_entry_js.js.map