{"version":3,"file":"node_modules_aws-amplify_ui-components_dist_esm_amplify-s3-image-picker_entry_js.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMiB,MAAM,GAAG,IAAIZ,4DAAJ,CAAW,eAAX,CAAf;AACA,MAAMa,oBAAoB,GAAG,MAAM;AAC/BC,EAAAA,WAAW,CAACC,OAAD,EAAU;AAAA;;AACjBnB,IAAAA,qDAAgB,CAAC,IAAD,EAAOmB,OAAP,CAAhB;AACA;;AACA,SAAKC,WAAL,GAAmB,qBAAnB;AACA;;AACA,SAAKC,KAAL,GAAad,gEAAb;AACA;;AACA,SAAKgB,WAAL,GAAmBd,2EAAnB;AACA;;AACA,SAAKgB,UAAL,GAAkBhB,0EAAlB;AACA;;AACA,SAAKkB,eAAL,GAAuBlB,sFAAvB;AACA;;AACA,SAAKoB,UAAL,GAAkBpB,iFAAlB;;AACA,SAAKsB,UAAL;AAAA,qJAAkB,WAAOC,IAAP,EAAgB;AAC9B,cAAM;AAAEC,UAAAA,IAAI,GAAG,EAAT;AAAaZ,UAAAA,KAAb;AAAoBa,UAAAA,KAApB;AAA2BC,UAAAA,UAA3B;AAAuCC,UAAAA;AAAvC,YAAqD,KAA3D;AACA,cAAMC,GAAG,GAAGJ,IAAI,GAAGtB,+DAAO,CAACqB,IAAD,EAAOI,SAAP,CAA1B;;AACA,YAAI;AACA,gBAAMvB,+DAAgB,CAACwB,GAAD,EAAML,IAAN,EAAYX,KAAZ,EAAmBa,KAAnB,EAA0BF,IAAI,CAAC,MAAD,CAA9B,EAAwChB,MAAxC,CAAtB;AACA,eAAI,CAACsB,GAAL,SAAiBvB,+DAAgB,CAACsB,GAAD,EAAMhB,KAAN,EAAaa,KAAb,EAAoBC,UAApB,EAAgCnB,MAAhC,CAAjC;AACH,SAHD,CAIA,OAAOuB,KAAP,EAAc;AACVvB,UAAAA,MAAM,CAACuB,KAAP,CAAaA,KAAb;AACA,gBAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;AACH;AACJ,OAXD;;AAAA;AAAA;AAAA;AAAA;AAYH;;AACDE,EAAAA,MAAM,GAAG;AACL,WAAQxC,qDAAC,CAACE,iDAAD,EAAO,IAAP,EAAaF,qDAAC,CAAC,MAAD,EAAS;AAAEyC,MAAAA,IAAI,EAAE;AAAR,KAAT,EAAmCzC,qDAAC,CAAC,sBAAD,EAAyB;AAAE0C,MAAAA,UAAU,EAAE,KAAKL,GAAnB;AAAwBM,MAAAA,WAAW,EAAE,KAAKb,UAA1C;AAAsDR,MAAAA,WAAW,EAAElB,uDAAA,CAAS,KAAKkB,WAAd,CAAnE;AAA+FE,MAAAA,UAAU,EAAEpB,uDAAA,CAAS,KAAKoB,UAAd,CAA3G;AAAsIE,MAAAA,eAAe,EAAEtB,uDAAA,CAAS,KAAKsB,eAAd,CAAvJ;AAAuLE,MAAAA,UAAU,EAAExB,uDAAA,CAAS,KAAKwB,UAAd;AAAnM,KAAzB,CAApC,CAAd,CAAT;AACH;;AA9B8B,CAAnC","sources":["./node_modules/@aws-amplify/ui-components/dist/esm/amplify-s3-image-picker.entry.js"],"sourcesContent":["import { r as registerInstance, h, H as Host } from './index-39969785.js';\nimport { Logger, I18n } from '@aws-amplify/core';\nimport { A as AccessLevel } from './storage-types-f257c0f2.js';\nimport '@aws-amplify/auth';\nimport { T as Translations } from './Translations-3f32c42a.js';\nimport './constants-d1abe7de.js';\nimport '@aws-amplify/storage';\nimport { c as calcKey, p as putStorageObject, g as getStorageObject } from './storage-helpers-48c373a0.js';\n\nconst logger = new Logger('S3ImagePicker');\nconst AmplifyS3ImagePicker = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        /** The content type header used when uploading to S3 */\n        this.contentType = 'binary/octet-stream';\n        /** The access level of the image */\n        this.level = AccessLevel.Public;\n        /** Title string value */\n        this.headerTitle = Translations.IMAGE_PICKER_TITLE;\n        /** Header Hint value in string */\n        this.headerHint = Translations.IMAGE_PICKER_HINT;\n        /** Placeholder hint that goes under the placeholder image */\n        this.placeholderHint = Translations.IMAGE_PICKER_PLACEHOLDER_HINT;\n        /** Upload Button Text as string */\n        this.buttonText = Translations.IMAGE_PICKER_BUTTON_TEXT;\n        this.handlePick = async (file) => {\n            const { path = '', level, track, identityId, fileToKey } = this;\n            const key = path + calcKey(file, fileToKey);\n            try {\n                await putStorageObject(key, file, level, track, file['type'], logger);\n                this.src = await getStorageObject(key, level, track, identityId, logger);\n            }\n            catch (error) {\n                logger.error(error);\n                throw new Error(error);\n            }\n        };\n    }\n    render() {\n        return (h(Host, null, h(\"slot\", { name: \"photo-picker\" }, h(\"amplify-photo-picker\", { previewSrc: this.src, handleClick: this.handlePick, headerTitle: I18n.get(this.headerTitle), headerHint: I18n.get(this.headerHint), placeholderHint: I18n.get(this.placeholderHint), buttonText: I18n.get(this.buttonText) }))));\n    }\n};\n\nexport { AmplifyS3ImagePicker as amplify_s3_image_picker };\n"],"names":["r","registerInstance","h","H","Host","Logger","I18n","A","AccessLevel","T","Translations","c","calcKey","p","putStorageObject","g","getStorageObject","logger","AmplifyS3ImagePicker","constructor","hostRef","contentType","level","Public","headerTitle","IMAGE_PICKER_TITLE","headerHint","IMAGE_PICKER_HINT","placeholderHint","IMAGE_PICKER_PLACEHOLDER_HINT","buttonText","IMAGE_PICKER_BUTTON_TEXT","handlePick","file","path","track","identityId","fileToKey","key","src","error","Error","render","name","previewSrc","handleClick","get","amplify_s3_image_picker"],"sourceRoot":"webpack:///"}